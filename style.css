/* ========== Base ========== */
:root{
  --ink:#0f172a; --muted:#6b7280;
  --accent:#0f7bff; --accent2:#7bd6ff; --line:#00b900;
  --radius:24px; --shadow:0 18px 46px rgba(15,23,42,.16);
}
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  color:var(--ink); line-height:1.8;
  font-family:'Noto Sans JP',system-ui,-apple-system,"Segoe UI",Roboto,"Hiragino Kaku Gothic ProN","Meiryo",sans-serif;
  /* 多層グラデ背景（固定） */
  background:
    linear-gradient(180deg,#fff7f0 0%,#fffdfc 28%,#ffffff 42%,#f7fbff 72%,#ffffff 100%),
    radial-gradient(120% 70% at 15% -10%, rgba(255,225,241,.35) 0 55%, transparent 56%),
    radial-gradient(120% 70% at 85% 0%, rgba(232,252,255,.35) 0 55%, transparent 56%),
    radial-gradient(120% 70% at 50% 115%, rgba(255,246,217,.35) 0 55%, transparent 56%);
  background-attachment: fixed, fixed, fixed, fixed;
  text-rendering:optimizeLegibility;
}
.container{width:min(1080px,92vw); margin-inline:auto}

/* 固定ラベル */
.site-title{
  position:fixed; top:12px; left:12px; z-index:100;
  font-weight:900; font-size:14px; color:#2f2f2f;
  background:rgba(255,255,255,.85); padding:6px 10px; border-radius:10px;
  box-shadow:0 6px 18px rgba(0,0,0,.08);
}

/* ========== HERO ========== */
.hero{position:relative; min-height:68vh; display:grid; place-items:end start; overflow:hidden}
.hero-bg{position:absolute; inset:0; width:100%; height:100%; object-fit:cover; object-position:center 34%; filter:saturate(1.1) contrast(1.05)}
.hero-overlay{position:absolute; inset:0; background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.35) 60%, rgba(255,255,255,.42) 76%)}
.hero-vignette{position:absolute; inset:auto 0 0 0; height:40%; background:linear-gradient(180deg, transparent, rgba(0,0,0,.18))}
.hero-inner{position:relative; z-index:1; width:100%; padding:16vh 0 28px}
.lead{
  display:inline-flex; align-items:center; gap:.6ch;
  font-weight:700; color:#1f2937; background:rgba(255,255,255,.9);
  padding:.5rem .9rem; border-radius:999px; box-shadow:0 10px 26px rgba(0,0,0,.08)
}
.led-dot{width:10px;height:10px;border-radius:50%;background:#4aa3ff;box-shadow:0 0 0 6px rgba(74,163,255,.25) inset}
.title{font-weight:900; font-size:clamp(28px,6vw,46px); line-height:1.14; margin:14px 0 12px}
.title span{display:block}
.cta-row{display:flex; gap:10px; flex-wrap:wrap}
.btn{position:relative; display:inline-flex; align-items:center; gap:.6ch;
  padding:.54rem .98rem; font-size:.95rem; font-weight:900; border-radius:999px; text-decoration:none; overflow:hidden}
.btn-primary{background:linear-gradient(180deg,#1480ff,#0f6de0); color:#fff}
.btn-line{background:linear-gradient(180deg,#00c100,#00a700); color:#fff}
.btn-ghost{background:linear-gradient(180deg,#111,#0c0c0c); color:#fff}

/* さりげない“キラッ”スイープ（左→右） */
.sweep{--shine:linear-gradient(120deg, transparent 0%, rgba(255,255,255,.6) 50%, transparent 100%);
  position:relative; isolation:isolate}
.sweep::after{
  content:""; position:absolute; inset:-2px; transform:skewX(-20deg) translateX(-120%);
  background:var(--shine); mix-blend-mode:screen; opacity:.0; pointer-events:none;
  animation:shine 3.2s ease-in-out infinite; animation-delay:.5s;
}
@keyframes shine{ 0%{opacity:0;transform:skewX(-20deg) translateX(-120%)} 8%{opacity:.8} 22%{opacity:.0;transform:skewX(-20deg) translateX(140%)} 100%{opacity:0} }

/* ========== Section titles ========== */
.section{padding:60px 0}
.section-title{position:relative; display:inline-block; font-weight:900; font-size:clamp(22px,4.4vw,32px); margin:0 0 16px; padding-bottom:6px}
.section-title::after{content:""; position:absolute; left:0; bottom:0; height:6px; width:100%;
  background:linear-gradient(90deg,#0f7bff,#7bd6ff); border-radius:6px; opacity:.6}
.hand{font-family:'Yomogi','Noto Sans JP',sans-serif; font-weight:400; font-size:clamp(26px,5.2vw,38px); color:#2a2f38; line-height:1.25}

/* ========== Cards (Students) ========== */
.grid{display:grid; grid-template-columns:repeat(3,1fr); gap:22px}
@media (max-width:980px){ .grid{grid-template-columns:repeat(2,1fr)} }
@media (max-width:620px){ .grid{grid-template-columns:1fr} }

/* 学科カラー（薄め） */
.dept-sweets  { --c1:#b5efe9; --c2:#8fe4dd; }
.dept-imagine { --c1:#ffdcec; --c2:#ffc4dc; }
.dept-hoiku   { --c1:#ffe7b0; --c2:#ffd783; }

.student-card{
  position:relative; border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden;
  background:linear-gradient(180deg, var(--c1), var(--c2));
  padding:24px 20px 18px; padding-right:clamp(24px, 10vw, 120px);
}
.badge{
  position:absolute; right:14px; top:14px; z-index:2; width:112px; height:112px;
  border-radius:50%; overflow:hidden; background:#fff; border:4px solid #eaf2ff;
  box-shadow:0 10px 22px rgba(0,0,0,.18), 0 0 0 6px rgba(255,255,255,.9)
}
.badge img{width:100%; height:100%; object-fit:cover; object-position:center}

.sticker{display:inline-block; font-weight:900; font-size:.86rem; color:#213; background:#fff; padding:6px 10px; border-radius:10px; box-shadow:0 6px 18px rgba(0,0,0,.12); margin-bottom:6px}
.student-title{margin:0 0 2px; font-weight:900}
.student-name{margin:4px 0 10px; font-weight:900; font-size:clamp(20px,3.8vw,26px)}
.student-body{margin:10px 0 0}

/* 授業写真 2枚を均等中央 */
.student-photos{
  --w: min(300px, 44vw);
  display:grid; grid-template-columns:repeat(2, var(--w)); justify-content:center; gap:14px;
  width:100%; margin:16px auto 0;
}
.student-photos img{
  width:100%; aspect-ratio:16/9; object-fit:cover; border-radius:16px; box-shadow:0 8px 22px rgba(15,23,42,.12)
}

/* ========== Flow (当日の流れ) ========== */
.steps{display:grid; gap:18px}
.step{
  position:relative; display:grid; grid-template-columns:320px 1fr; gap:18px;
  background:#fff; border-radius:22px; box-shadow:var(--shadow); overflow:hidden;
}
.step img{width:100%; height:100%; object-fit:cover; aspect-ratio:16/10}
.step .body{padding:16px 18px}
.step .num{display:inline-block; font-weight:900; color:#fff; background:linear-gradient(180deg,#0f7bff,#7bd6ff); padding:.2rem .6rem; border-radius:999px;}

/* 左端の白帯ケア：画像をはみ出し配置して縁を消す */
.step img{display:block; transform:translateX(0)}
.step{background-clip:padding-box}
.step::before{content:""; position:absolute; inset:0; pointer-events:none} /* 予約（何も描かない） */

/* キラッ反射（控えめ） */
.step img.sweep::after{animation-duration:4s}

/* スクロール連動：上下にそっと動く（モーションはCSS Scroll-linked） */
@supports (animation-timeline: view()){
  .lift{ animation: rise 1s linear both; animation-timeline: view(); animation-range: entry 10% cover 35% }
  @keyframes rise{ from{ transform:translateY(18px) } to{ transform:translateY(0) } }
}

/* ========== Guide timeline（線が丸に被らない完全版） ========== */
.guide-story{ --line-x: 28px; --avatar: 56px; --gap: 16px; }
.guide-steps{ position:relative; list-style:none; margin:0; padding:0; }
.guide-steps::before{
  content:""; position:absolute; top:0; bottom:0; left:var(--line-x); width:3px;
  background:linear-gradient(180deg,#d9e9ff,#cfe3ff); border-radius:2px; z-index:0;
}
.gstep{ position:relative; padding-left:calc(var(--line-x) + var(--avatar) + var(--gap)); margin:18px 0; }
.gavatar{
  position:absolute; left:calc(var(--line-x) - var(--avatar)/2); top:8px;
  width:var(--avatar); height:var(--avatar); border-radius:50%; overflow:hidden;
  background:#fff; border:3px solid #eaf2ff; box-shadow:0 6px 16px rgba(26,46,90,.12); z-index:2;
}
.gavatar{ display:grid; place-items:center }
.gavatar[src], .gavatar img{ width:100%; height:100%; object-fit:cover; object-position:center 35% }
.gcard{ position:relative; z-index:1; background:#fff; border-radius:16px; padding:14px 16px; box-shadow:0 10px 28px rgba(15,23,42,.10) }
.ghead{ font-weight:900; margin-bottom:8px }
.gtime{ display:inline-block; font-weight:900; background:#e9f2ff; color:#0b3f9b; padding:.2rem .6rem; border-radius:999px }
.gstep .gline{ display:none !important }

/* PC拡張 */
@media (min-width:960px){
  .guide-story{ --line-x: 36px; --avatar: 64px; --gap: 18px; }
  .gstep{ margin:22px 0 }
  .gcard{ padding:16px 18px }
}
/* 小端末微調整 */
@media (max-width:360px){
  .guide-story{ --line-x: 24px; --avatar: 52px; --gap: 14px; }
}

/* ========== Footer/Sticky ========== */
.footer{padding:46px 0 56px; text-align:center; color:var(--muted)}
.footer-cta{margin-bottom:1rem; display:flex; gap:.75rem; justify-content:center; flex-wrap:wrap}

/* スマホ固定CTA（省略形） */
.sticky-cta{position:fixed; left:0; right:0; bottom:0; display:flex; gap:10px; padding:10px 14px; backdrop-filter:blur(10px); background:rgba(255,255,255,.88); box-shadow:0 -10px 24px rgba(0,0,0,.12); z-index:999}
.sticky-cta .btn{flex:1; justify-content:center; padding:.6rem 0; font-size:1rem}
@media (min-width:960px){ .sticky-cta{ display:none } }
/* ===== スマホ幅をPCでも中央表示する設定 ===== */
.app {
  /* 表示幅をスマホ幅に固定 */
  width: min(430px, 100vw);
  margin: 0 auto; /* 中央寄せ */
  background: inherit; /* 背景は元のまま */
}