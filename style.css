/* =============== Base =============== */
:root{
  --ink:#0f172a;
  --muted:#64748b;
  --accent:#0f7bff;
  --accent2:#7bd6ff;
  --line:#00b900;
  --radius:18px;
  --shadow:0 12px 30px rgba(15,23,42,.14);
  --stickyH:64px;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  color:var(--ink); line-height:1.8;
  font-family:'Noto Sans JP',system-ui,-apple-system,"Segoe UI",Roboto,"Hiragino Kaku Gothic ProN","Meiryo",sans-serif;
  /* ふんわり楽しい多層グラデ */
  background:
    linear-gradient(180deg,#fff7f0, #fff 20%, #f6fbff 60%, #fff 100%),
    radial-gradient(120% 70% at 10% -10%, rgba(255,226,240,.35) 0 55%, transparent 56%),
    radial-gradient(120% 70% at 90% 0%, rgba(232,252,255,.35) 0 55%, transparent 56%),
    radial-gradient(120% 70% at 50% 115%, rgba(255,246,217,.35) 0 55%, transparent 56%);
  background-attachment: fixed,fixed,fixed,fixed;
  text-rendering:optimizeLegibility;
  padding-bottom:calc(var(--stickyH) + env(safe-area-inset-bottom,0px)); /* 下部固定ボタンと安全域 */
}

/* コンテナ（スマホ幅優先） */
.container{width:min(960px,92vw); margin-inline:auto}

/* 左上ラベル */
.site-title{
  position:fixed; top:12px; left:12px; z-index:100;
  font-weight:900; font-size:13px; color:#2f2f2f;
  background:rgba(255,255,255,.9); padding:6px 10px; border-radius:999px;
  box-shadow:0 6px 18px rgba(0,0,0,.08); -webkit-backdrop-filter:blur(6px); backdrop-filter:blur(6px);
}

/* =============== HERO =============== */
.hero{position:relative; min-height:64vh; display:grid; place-items:end center; overflow:hidden}
.hero-bg{
  position:absolute; inset:0; width:100%; height:100%;
  object-fit:cover; object-position:center 30%; filter:saturate(1.06) contrast(1.06);
}
.hero-overlay{position:absolute; inset:0; background:linear-gradient(180deg,rgba(255,255,255,.1),rgba(255,255,255,.35) 55%,rgba(255,255,255,.4))}
.hero-vignette{position:absolute; inset:auto 0 0 0; height:36%; background:linear-gradient(180deg,transparent,rgba(0,0,0,.18),rgba(0,0,0,.22))}
.hero-inner{position:relative; z-index:1; width:100%; padding:18vh 0 18px}
.lead{
  display:inline-flex; align-items:center; gap:.6ch;
  background:rgba(255,255,255,.92); padding:10px 14px; border-radius:999px;
  font-weight:700; font-size:15px; box-shadow:0 10px 26px rgba(0,0,0,.14);
}
.led-dot{width:12px; height:12px; border-radius:999px; display:inline-block; background:conic-gradient(#7bd6ff,#0f7bff,#7bd6ff); box-shadow:0 0 0 4px rgba(15,123,255,.14)}
.title{
  margin:14px 0; font-weight:900; line-height:1.14;
  font-size:clamp(28px,7.2vw,40px); color:#0b1224; text-shadow:0 2px 0 rgba(255,255,255,.4);
}

/* CTA Buttons + きらっと（sweep） */
.cta-row{display:flex; gap:10px; flex-wrap:wrap}
.btn{
  position:relative; display:inline-flex; align-items:center; justify-content:center; gap:.6ch;
  padding:.7rem 1.1rem; font-size:15px; font-weight:900;
  border-radius:999px; text-decoration:none; overflow:hidden; transform:translateZ(0);
  box-shadow:0 10px 26px rgba(0,0,0,.16);
}
.btn-primary{background:linear-gradient(180deg,#1480ff,#0f6de0); color:#fff}
.btn-line{background:linear-gradient(180deg,#00c100,#00a700); color:#fff}
.btn-ghost{background:linear-gradient(180deg,#111,#0c0c0c); color:#fff}

/* iOSでも見える「左→右のキラッ」 */
.sweep::after{
  content:""; position:absolute; inset:-20% -60%; transform:translateX(-120%);
  background:linear-gradient(120deg, transparent 30%, rgba(255,255,255,.9) 50%, transparent 70%);
  mix-blend-mode:screen; pointer-events:none; filter:blur(1px);
  animation:shine 2.2s ease-in-out infinite;
}
@keyframes shine{ 60%{transform:translateX(140%)} 100%{transform:translateX(140%)} }
@media (prefers-reduced-motion:reduce){ .sweep::after{animation:none} }

/* セクション */
.section{padding:38px 0}
.section-title{position:relative; display:inline-block; font-weight:900; font-size:clamp(22px,5.4vw,28px); margin:0 0 14px; color:#0b1224}
.section-title::after{
  content:""; position:absolute; left:0; bottom:-8px; height:6px; width:100px;
  background:linear-gradient(90deg,#0f7bff,#7bd6ff); border-radius:6px;
}

/* 手書き風 */
.hand{font-family:'Yomogi','Noto Sans JP',sans-serif; font-weight:400}

/* =============== 学生インタビュー =============== */
.grid{display:grid; grid-template-columns:1fr; gap:16px} /* スマホは1列固定 */
.student-card{
  position:relative; border-radius:18px; box-shadow:var(--shadow); padding:18px 16px 16px; overflow:hidden;
  background:#fff;
}
.sticker{display:inline-block; font-weight:900; font-size:12px; background:#fff; padding:6px 10px; border-radius:10px; box-shadow:0 6px 18px rgba(0,0,0,.1); margin-bottom:6px}

/* 学科カラー（淡め） */
.dept-sweets  { --c1:#b7f0ee; --c2:#92e5e2 }
.dept-imagine { --c1:#ffd9e7; --c2:#ffc1d6 }
.dept-hoiku   { --c1:#ffe9b6; --c2:#ffd892 }

.dept-sweets { background:linear-gradient(135deg, var(--c1), var(--c2) 60%) padding-box, #fff border-box; }
.dept-imagine{ background:linear-gradient(135deg, var(--c1), var(--c2) 60%) padding-box, #fff border-box; }
.dept-hoiku  { background:linear-gradient(135deg, var(--c1), var(--c2) 60%) padding-box, #fff border-box; }

/* 顔写真（モヤ削除・リングだけ） */
.badge{
  position:absolute; right:12px; top:12px; z-index:1;
  width:84px; height:84px; border-radius:999px; overflow:hidden;
  box-shadow:0 10px 22px rgba(0,0,0,.16), 0 0 0 6px rgba(255,255,255,.95);
}
.badge img{width:100%; height:100%; object-fit:cover; object-position:center 30%}

/* 文章 */
.student-title{margin:0 0 0; font-weight:900; font-size:16px}
.student-name{margin:6px 0 8px; font-weight:900; font-size:20px}
.student-body{margin:8px 0 0; color:#1f2937}

/* 授業写真（2枚・均等・センター） */
.student-photos{
  display:grid; grid-template-columns:repeat(2,1fr); gap:12px;
  width:100%; max-width:640px; margin:14px auto 0; justify-items:center;
}
.student-photos img{
  width:100%; aspect-ratio:16/9; object-fit:cover; border-radius:12px; box-shadow:0 8px 22px rgba(15,23,42,.12);
}

/* =============== 当日の流れ =============== */
.steps{display:grid; gap:14px}
.step{
  position:relative; display:grid; grid-template-columns:1fr; gap:10px;
  background:#fff; border-radius:16px; box-shadow:var(--shadow); overflow:hidden;
}
.step img{
  width:100%; height:auto; display:block; aspect-ratio:16/10; object-fit:cover; object-position:center;
  /* 画像左端の白線を消すため、1pxだけはみ出させる */
  margin-left:-1px; width:calc(100% + 2px);
}
.step .body{padding:14px 14px 16px}
.step .num{display:inline-block; font-weight:900; color:#fff; background:linear-gradient(180deg,#0f7bff,#7bd6ff); padding:.2rem .6rem; border-radius:999px; margin-bottom:8px}

/* =============== ストーリー（安心ガイド） =============== */
.guide-story{scroll-margin-top:12px}
.guide-steps{position:relative; list-style:none; padding:0; margin:0; display:grid; gap:18px}
.gstep{position:relative; display:grid; grid-template-columns:56px 1fr; gap:10px; align-items:start}
.gline{
  position:absolute; left:28px; top:0; bottom:0; width:3px; background:linear-gradient(#bfe1ff,#d7f5ff); border-radius:3px;
}
.gavatar{
  grid-column:1; width:56px; height:56px; border-radius:999px; object-fit:cover; object-position:center 30%;
  background:#fff; box-shadow:0 8px 18px rgba(0,0,0,.12); z-index:1; /* ← 線より前へ */
}
.gcard{
  grid-column:2; background:#fff; border-radius:14px; box-shadow:var(--shadow); padding:12px 14px; position:relative; overflow:hidden;
}
.ghead{font-weight:900; margin-bottom:6px}
.gtime{display:inline-block; background:#e8f3ff; color:#0f59c9; padding:.1rem .5rem; border-radius:999px; font-weight:900}
.glist{margin:0; padding-left:1.1em}
.glist li{margin:.35em 0}

/* =============== 反射（見出し・カード・画像に共通） =============== */
.sweep, .sweep-img, .section-title.hand{
  position:relative; overflow:hidden; transform:translateZ(0);
}
.sweep-img::after,
.sweep::after,
.section-title.hand::after{
  content:""; position:absolute; inset:-25% -70%; transform:translateX(-120%);
  background:linear-gradient(120deg, transparent 30%, rgba(255,255,255,.9) 50%, transparent 70%);
  mix-blend-mode:screen; pointer-events:none; filter:blur(1px);
  animation:shine 2.4s ease-in-out infinite;
}
@media (prefers-reduced-motion:reduce){
  .sweep::after,.sweep-img::after,.section-title.hand::after{animation:none}
}

/* =============== スクロール連動（軽量JSでY移動） =============== */
[data-parallax]{will-change:transform}
.lift{will-change:transform}

/* =============== Sticky CTA（SP） =============== */
.sticky{
  position:fixed; left:0; right:0; bottom:0;
  display:flex; gap:10px; padding:10px 14px calc(10px + env(safe-area-inset-bottom,0px));
  background:rgba(255,255,255,.92); -webkit-backdrop-filter:blur(10px); backdrop-filter:blur(10px);
  box-shadow:0 -12px 30px rgba(0,0,0,.12); z-index:999;
}
.sticky .btn{flex:1; font-size:16px; padding:.75rem 0}

/* ちょいデスクトップ拡張（PCでもスマホUIのまま） */
@media (min-width:1024px){
  body{font-size:17px}
  .container{width:min(760px,94vw)}
  .title{font-size:42px}
}