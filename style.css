/* ===== ベース ===== */
:root{
  --ink:#0f172a; --muted:#6b7280;
  --accent:#0f7bff; --accent2:#7bd6ff; --line:#00b900;
  --radius:22px; --shadow:0 14px 40px rgba(15,23,42,.16);
  --c-sweets:#b8f1ef;  /* 学科カラー薄めに */
  --c-imagine:#ffd7e6;
  --c-hoiku:#ffe6ac;
}

*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  color:var(--ink); line-height:1.8;
  font-family:'Noto Sans JP',system-ui,-apple-system,"Segoe UI",Roboto,"Hiragino Kaku Gothic ProN","Meiryo",sans-serif;
  /* 楽しい多層グラデ（固定） */
  background:
    linear-gradient(180deg,#fff7f0 0%,#ffffff 28%,#f7fbff 72%,#ffffff 100%),
    radial-gradient(120% 70% at 15% -10%, rgba(255,225,241,.35) 0 55%, transparent 56%),
    radial-gradient(120% 70% at 85% 0%, rgba(232,252,255,.35) 0 55%, transparent 56%),
    radial-gradient(120% 70% at 50% 115%, rgba(255,246,217,.35) 0 55%, transparent 56%);
  background-attachment: fixed, fixed, fixed, fixed;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}

.container{width:min(760px,92vw); margin-inline:auto}

/* スマホ幅固定（PCでもスマホレイアウト） */
@media (min-width:761px){
  body{margin:0 auto}
}

/* 固定ラベル */
.site-title{
  position:fixed; top:12px; left:12px; z-index:1000;
  font-weight:900; font-size:12px; color:#2f2f2f;
  background:rgba(255,255,255,.9); padding:6px 10px; border-radius:12px;
  box-shadow:0 6px 18px rgba(0,0,0,.08);
}

/* ===== HERO ===== */
.hero{position:relative; min-height:68vh; display:grid; place-items:end start; overflow:hidden}
.hero-bg{position:absolute; inset:0; width:100%; height:100%; object-fit:cover; object-position:center 36%; display:block}
.hero-overlay{position:absolute; inset:0;
  background:linear-gradient(180deg, rgba(255,255,255,.02) 0%, rgba(255,255,255,.28) 56%, rgba(255,255,255,.34) 76%);
  pointer-events:none}
.hero-vignette{position:absolute; inset:auto 0 0 0; height:38%;
  background:linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.16) 72%, rgba(0,0,0,.24) 100%); pointer-events:none}

.hero-inner{position:relative; z-index:1; width:100%; padding:18vh 16px 18px}
.lead{display:inline-flex; align-items:center; gap:.6ch; margin:0 0 10px; font-weight:700; background:#fff; padding:8px 12px; border-radius:999px; box-shadow:0 10px 22px rgba(0,0,0,.12)}
.led-dot{width:10px;height:10px;border-radius:50%;background:radial-gradient(#9df,#09f); box-shadow:0 0 14px #09f inset, 0 0 10px #09f}
.title{font-weight:900; font-size:clamp(26px,6vw,34px); line-height:1.18; margin:10px 0 12px; color:#0b1224}
.title span{display:block}

/* CTA */
.cta-row{display:flex; gap:8px; flex-wrap:wrap}
.btn{position:relative; display:inline-flex; align-items:center; justify-content:center; gap:.6ch;
  padding:.56rem 1rem; font-size:.95rem; font-weight:900;
  border-radius:999px; text-decoration:none; overflow:hidden; transition:.12s}
.btn-primary{background:linear-gradient(180deg,#1480ff,#0f6de0); color:#fff; box-shadow:0 8px 22px rgba(20,128,255,.28)}
.btn-line{background:linear-gradient(180deg,#00c100,#00a700); color:#fff; box-shadow:0 8px 22px rgba(0,200,0,.24)}
.btn-ghost{background:linear-gradient(180deg,#111,#0c0c0c); color:#fff; box-shadow:0 8px 22px rgba(0,0,0,.24)}
.btn:active{transform:scale(.98)}

/* 共通：左→右に “キラッ” 反射（控えめ） */
.sweep{position:relative; overflow:hidden; isolation:isolate}
.sweep::after{
  content:""; position:absolute; inset:-20% -60% auto auto; width:40%; height:200%;
  background:linear-gradient(110deg, transparent 0 46%, rgba(255,255,255,.75) 50%, transparent 54%);
  transform:translateX(-140%) skewX(-18deg); filter:blur(2px); pointer-events:none;
}
.sweep:hover::after{ animation:sweep .9s ease-out forwards }
@keyframes sweep{ to{ transform:translateX(160%) skewX(-18deg); opacity:.0 } }

/* セクション */
.section{padding:26px 0}
.section-title{
  position:relative; display:inline-block; font-weight:900;
  font-size:clamp(22px,5.4vw,28px); margin:0 0 14px; color:#0b1224;
}
.section-title::after{
  content:""; position:absolute; left:0; bottom:-6px; height:6px; width:100px;
  background:linear-gradient(90deg,#0f7bff,#7bd6ff); border-radius:6px;
}
.hand{font-family:'Yomogi','Noto Sans JP',sans-serif; font-weight:400}

/* ===== 学生カード ===== */
.student-card{
  position:relative; background:#fff; border-radius:18px; padding:18px 14px 16px;
  box-shadow:var(--shadow); overflow:hidden; margin:16px 0;
}
.dept-sweets { background:linear-gradient(180deg, color-mix(in srgb,var(--c-sweets) 60%, #fff 40%), #fff) }
.dept-imagine{ background:linear-gradient(180deg, color-mix(in srgb,var(--c-imagine) 60%, #fff 40%), #fff) }
.dept-hoiku  { background:linear-gradient(180deg, color-mix(in srgb,var(--c-hoiku) 60%, #fff 40%), #fff) }
.sticker{display:inline-block; font-weight:900; font-size:.82rem; background:#fff; padding:6px 10px; border-radius:10px; box-shadow:0 6px 18px rgba(0,0,0,.12); margin-bottom:6px}
.badge{position:absolute; right:12px; top:12px; width:84px; height:84px; border-radius:50%; overflow:hidden; box-shadow:0 10px 22px rgba(0,0,0,.18),0 0 0 4px rgba(255,255,255,.9)}
.badge img{width:100%;height:100%;object-fit:cover;object-position:center 30%;display:block}
.student-title{margin:6px 0 2px; font-weight:900}
.student-name{margin:0 0 8px; font-weight:900; font-size:1.25rem}
.student-body{margin:6px 0 10px; color:#273140}

/* 授業風景：左右均等・センター */
.student-photos{
  display:grid; grid-template-columns:1fr 1fr; gap:10px; align-items:center; justify-items:center;
}
.student-photos img{
  width:100%; aspect-ratio:16/9; object-fit:cover; border-radius:14px; display:block; /* ←白帯対策 */
  box-shadow:0 8px 22px rgba(15,23,42,.12);
}

/* ===== 当日の流れ ===== */
.step{
  display:grid; grid-template-columns:1fr; gap:10px; background:#fff; border-radius:18px; box-shadow:var(--shadow);
  overflow:hidden; margin:16px 0; border-left:8px solid transparent;
}
.step img{width:100%; height:auto; display:block; object-fit:cover; vertical-align:middle}
.step .body{padding:14px}
.num{display:inline-block; font-weight:900; color:#fff; background:linear-gradient(180deg,#0f7bff,#7bd6ff); padding:.25rem .6rem; border-radius:999px; margin-bottom:6px}

/* ===== 安心ガイド（ストーリー） ===== */
.guide-steps{list-style:none; margin:0; padding:0}
.gstep{position:relative; padding-left:72px; margin:18px 0}
.gline{
  position:absolute; left:40px; top:60px; bottom:-12px; width:3px;
  background:linear-gradient(180deg,#0f7bff,#7bd6ff);
  opacity:.28; z-index:0; /* ←アバターの下に配置 */
}
.gavatar{
  position:absolute; left:0; top:0; width:64px; height:64px; border-radius:50%;
  object-fit:cover; object-position:center 40%; display:block; z-index:1;
  box-shadow:0 8px 20px rgba(0,0,0,.16), 0 0 0 4px #fff;
}
.gcard{
  position:relative; background:#fff; border-radius:16px; padding:12px 12px;
  box-shadow:var(--shadow); z-index:2;
}
.ghead{font-weight:900; margin-bottom:4px}
.gtime{display:inline-block; background:#e9f1ff; color:#0b3b9a; padding:.2rem .6rem; border-radius:999px}
.glist{margin:0; padding-left:1em}
.glist li{margin:.2rem 0}

/* ===== スクロール連動（CSS Scroll-linked Animation） ===== */
@supports (animation-timeline: view()) {
  .card-parallax{animation: rise 1s linear both; animation-timeline: view(); animation-range: entry 20% cover 30%}
  .step-parallax{animation: rise 1s linear both; animation-timeline: view(); animation-range: entry 10% cover 30%}
  @keyframes rise{ from{ transform:translateY(10px); opacity:.0 } to{ transform:none; opacity:1 } }
}

/* Fallback（対応外ブラウザ） */
@media not all and (animation-timeline: view()){
  .card-parallax, .step-parallax{opacity:0; transform:translateY(10px); transition:.5s}
  .card-parallax.is-in, .step-parallax.is-in{opacity:1; transform:none}
}

/* フッター・固定CTA */
.footer{padding:40px 0 70px; text-align:center; color:var(--muted)}
.footer-cta{margin-bottom:1rem; display:flex; gap:.6rem; justify-content:center; flex-wrap:wrap}
.sticky-cta{position:fixed; left:0; right:0; bottom:0; display:flex; gap:10px; padding:10px 14px; backdrop-filter:blur(10px); background:rgba(255,255,255,.92); box-shadow:0 -10px 24px rgba(0,0,0,.12); z-index:1000}
.sticky-cta .btn{flex:1}

/* トップへ */
.to-top{position:fixed; right:14px; bottom:76px; width:42px; height:42px; border:none; border-radius:999px; background:#111; color:#fff; box-shadow:0 10px 24px rgba(0,0,0,.25); opacity:0; visibility:hidden; transition:.25s; z-index:999}
.to-top.show{opacity:1; visibility:visible}

/* 余計な白帯対策 */
img{background:#fff}