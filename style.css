/* ========== Reset / Base ========== */
*{box-sizing:border-box}
html,body{margin:0}
img{max-width:100%;display:block;height:auto}

/* ========== Variables ========== */
:root{
  --ink:#0b1224; --muted:#6b7280;
  --blue:#1480ff; --blue2:#0f6de0;
  --line:#00c100; --line2:#009400;
  --blk:#111; --blk2:#0b0b0b;
  --shadow:0 14px 34px rgba(15,23,42,.16);
  --r:18px;
}

/* ========== Body / Background ========== */
body{
  color:var(--ink);
  font-family:'Noto Sans JP',system-ui,-apple-system,"Segoe UI",Roboto,"Hiragino Kaku Gothic ProN","Meiryo",sans-serif;
  line-height:1.85;
  background:
    radial-gradient(120% 80% at 10% -10%, #ffe9f6 0 45%, transparent 46%),
    radial-gradient(120% 80% at 95% 0%,  #e6f7ff 0 45%, transparent 46%),
    radial-gradient(120% 80% at 50% 115%, #fff6d9 0 45%, transparent 46%),
    linear-gradient(180deg,#fff 0%,#f9fbff 45%,#ffffff 100%);
  background-attachment:fixed,fixed,fixed,fixed;
}

/* ========== Layout / Sections ========== */
.container{width:min(980px,92vw);margin-inline:auto}
.section{padding:28px 0;position:relative}

/* 見出し（手書き＋下線） */
.section-title{
  margin:0 0 16px; font-weight:900;
  font-size:clamp(20px,5.8vw,28px); letter-spacing:.02em;
  position:relative;
}
.section-title.hand{
  font-family:'Yomogi','Noto Sans JP',sans-serif;
  -webkit-text-stroke:.6px rgba(11,18,36,.12);
}
.section-title .underline{
  display:block; height:6px; width:100%;
  background:linear-gradient(90deg,#7bd6ff,#1480ff);
  border-radius:6px; opacity:.95; margin-top:8px; position:relative; overflow:hidden;
}
.section-title.in .underline::after{
  content:""; position:absolute; inset:0;
  transform:translateX(-120%) skewX(-20deg);
  background:linear-gradient(120deg,transparent,rgba(255,255,255,.7),transparent);
  animation:u-shine .9s ease .2s forwards;
}
@keyframes u-shine{to{transform:translateX(120%) skewX(-20deg)}}

/* 手書き：1文字ずつポップ（JSで .char を付与） */
.hand span.char{
  display:inline-block; opacity:0; transform:translateY(14px) rotate(var(--rot,0deg)) scale(.92);
  filter:blur(2px);
}
.hand.in span.char{
  animation:charPop .6s cubic-bezier(.2,.8,.2,1) forwards;
  animation-delay:var(--d,0ms);
}
@keyframes charPop{
  40%{transform:translateY(-6px) rotate(var(--rot,0deg)) scale(1.02); filter:blur(0); opacity:1}
  100%{transform:translateY(0) rotate(0) scale(1); filter:blur(0); opacity:1}
}

/* ========== Glassy School Label（★今回のみ更新） ========== */
.site-title{
  position:fixed; top:14px; left:4vw; z-index:80;
  font-weight:900; font-size:12px; letter-spacing:.02em; color:#0e1b2a;
  padding:8px 14px; border-radius:999px; display:inline-block; /* テキスト幅にフィット */
  background:
    radial-gradient(180% 160% at 0% 0%, rgba(255,255,255,.55), rgba(255,255,255,.22) 55%, rgba(255,255,255,.10) 100%),
    linear-gradient(180deg, rgba(255,255,255,.28), rgba(255,255,255,.08));
  -webkit-backdrop-filter: blur(14px) saturate(150%);
  backdrop-filter: blur(14px) saturate(150%);
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.45),
    inset 0 -1px 0 rgba(255,255,255,.35),
    0 10px 26px rgba(13,27,42,.12);
  position:relative; overflow:hidden;
}
.site-title::before{
  /* 上辺のヌメっとした虹がかったハイライト（ごく薄く） */
  content:""; position:absolute; inset:0;
  background:radial-gradient(120% 60% at 20% -20%, rgba(255,255,255,.65) 0 25%, transparent 26%),
             linear-gradient(90deg, rgba(255,255,255,.25), rgba(255,255,255,.05) 40%, rgba(255,255,255,.2) 60%, rgba(255,255,255,0) 100%);
  mix-blend-mode:screen; pointer-events:none; opacity:.8;
}

/* ========== HERO ========== */
.hero{position:relative; min-height:62svh; display:grid; place-items:end start; overflow:hidden}
.hero-bg{position:absolute; inset:0; width:100%; height:100%; object-fit:cover; object-position:center 35%}
.hero-overlay{position:absolute; inset:0; background:linear-gradient(180deg,rgba(0,0,0,0) 0,rgba(0,0,0,.18) 75%,rgba(0,0,0,.25))}
.hero-inner{position:relative; z-index:1; width:100%; padding:14px 0 20px}

/* リード（白帯） */
.lead{
  width:min(900px,92vw); margin:0 auto 8px;
  background:rgba(255,255,255,.24); backdrop-filter:blur(2px);
  border-radius:999px; padding:8px 14px; font-weight:700; font-size:14px;
  display:flex; gap:.6ch; align-items:center;
  box-shadow:0 10px 14px rgba(0,0,0,.05)
}
.lead .dot{width:10px;height:10px;border-radius:50%;background:radial-gradient(#7bd6ff,#1480ff)}
.lead .lead-text{white-space:nowrap}

/* ヒーロー見出し（濃ネイビー＋白フチを“後ろ”に） */
.title{
  width:min(900px,92vw);
  margin:0 auto 10px;
  font-weight:900;
  font-size:clamp(22px,6.5vw,34px);
  line-height:1.16;
  color:#133a7c;
  background:transparent;
  padding:0;
}
.title span{display:block}
/* WebKit：半透明ストローク＋軽い影（前に出ない） */
@supports (-webkit-text-stroke: 1px white) {
  .title{
    -webkit-text-stroke:2px rgba(255,255,255,.95);
    text-stroke:2px rgba(255,255,255,.95);
    text-shadow:0 2px 6px rgba(0,0,0,.25);
  }
}
/* Fallback：擬似アウトライン（前景化しない程度） */
@supports not (-webkit-text-stroke: 1px white) {
  .title{
    text-shadow:
      -1px -1px 0 #fff, 1px -1px 0 #fff,
      -1px  1px 0 #fff, 1px  1px 0 #fff,
      0 2px 6px rgba(0,0,0,.25);
  }
}

/* Buttons */
.btnrow{width:min(900px,92vw); margin:0 auto; display:flex; gap:10px}
.btn{
  --c1:#000; --c2:#333;
  flex:1; display:flex; justify-content:center; align-items:center; gap:.5ch;
  height:48px; padding:0 14px; border-radius:999px; font-weight:900;
  font-size:clamp(14px,3.8vw,15px); color:#fff; text-decoration:none;
  position:relative; overflow:hidden; white-space:nowrap;
  background:linear-gradient(180deg,var(--c1),var(--c2));
  box-shadow:inset 0 1px 0 rgba(255,255,255,.25), 0 10px 22px rgba(15,23,42,.20);
}
.btn::before{content:""; position:absolute; inset:0 0 55% 0; background:linear-gradient(180deg,rgba(255,255,255,.45),transparent); pointer-events:none}
.btn:active{transform:translateY(1px)}
.btn-blue{--c1:#2b8dff; --c2:#0f6de0; font-size:clamp(13px,3.4vw,14px)}
.btn-line{--c1:#00c100; --c2:#009400}
.btn-black{--c1:#161616; --c2:#0b0b0b}

/* さりげない“キラッ” */
.sweep{position:relative; overflow:hidden}
.sweep.in::after{
  content:""; position:absolute; inset:0;
  transform:translateX(-120%) skewX(-20deg);
  background:linear-gradient(120deg,transparent,rgba(255,255,255,.55),transparent);
  animation:shine .9s ease forwards;
}
@keyframes shine{to{transform:translateX(120%) skewX(-20deg)}}

/* ========== Grid / Cards（3学科） ========== */
.grid{display:grid; gap:16px}
@media(min-width:720px){.grid{grid-template-columns:repeat(3,1fr)}}

.card{
  position:relative; padding:16px; border-radius:var(--r);
  box-shadow:var(--shadow); background:#fff; overflow:hidden;
}
.dept-sweets{--tone:#bff3ec}
.dept-imagine{--tone:#ffe0ec}
.dept-hoiku{--tone:#ffeec0}
.card::before{
  content:""; position:absolute; inset:0;
  background:linear-gradient(135deg, color-mix(in srgb,var(--tone) 68%,#fff 32%), #fff);
  z-index:-1;
}
.badge{
  position:absolute; right:12px; top:12px; width:130px; height:130px;
  border-radius:999px; background:#fff;
  box-shadow:0 10px 22px rgba(0,0,0,.16), 0 0 0 6px rgba(255,255,255,.95);
  overflow:hidden;
}
.badge img{width:100%; height:100%; object-fit:cover; object-position:center 30%}
.sticker{display:inline-block; background:#fff; color:#111; padding:6px 10px; border-radius:10px; font-weight:900; font-size:12px; box-shadow:0 8px 18px rgba(0,0,0,.12); margin-bottom:8px}
.card h3{margin:10px 0 6px; font-weight:900}
.card .photos{display:grid; grid-template-columns:repeat(2,1fr); gap:10px; margin-top:12px}
.card .photos img{width:100%; aspect-ratio:16/9; object-fit:cover; border-radius:12px; box-shadow:0 8px 22px rgba(15,23,42,.12); background:#0001}

/* ========== Flow（当日の流れ） ========== */
.step{
  display:grid; grid-template-columns:1fr; gap:10px;
  background:#fff; border-radius:16px; box-shadow:var(--shadow); overflow:hidden;
}
.step img{width:100%; aspect-ratio:16/10; object-fit:cover; background:#0001}
.step .body{padding:12px 14px}
.num{display:inline-block; background:linear-gradient(180deg,#1480ff,#7bd6ff); color:#fff; font-weight:900; padding:.2rem .6rem; border-radius:999px; margin-bottom:6px}

/* ========== 安心ガイド（タイムライン） ========== */
.guide{position:relative}
.glist{list-style:none; margin:0; padding:0; display:grid; gap:12px}
.gitem{display:grid; grid-template-columns:auto 1fr; gap:10px; align-items:center}
.gavatar{
  width:60px; height:60px; border-radius:999px; overflow:hidden;
  box-shadow:0 8px 18px rgba(0,0,0,.14);
  background:linear-gradient(180deg,#e6f5ff,#fff); display:grid; place-items:center;
}
.gavatar img{width:100%; height:100%; object-fit:cover; object-position:center 35%}
.gitem:nth-child(1) .gavatar img,
.gitem:nth-child(4) .gavatar img{object-position:center 28%}
.gitem.access .gavatar img{object-position:center 48%}
.gcard{background:#fff; border-radius:14px; box-shadow:var(--shadow); padding:10px 12px}

/* ========== “追いつく”上下モーション対象 ========== */
[data-float]{will-change:transform}

/* ========== Footer / Sticky CTA ========== */
.footer{padding:42px 0 96px; text-align:center; color:var(--muted)}
.sticky-cta{
  position:fixed; left:0; right:0; bottom:-80px;
  display:flex; gap:10px; padding:10px 14px;
  background:rgba(255,255,255,.92); backdrop-filter:blur(10px);
  box-shadow:0 -12px 24px rgba(0,0,0,.14); transition:bottom .28s; z-index:60;
}
.sticky-cta .btn{height:46px}
.sticky-cta.show{bottom:0}

/* ========== Reveal（スクロール出現） ========== */
.reveal{opacity:0; transform:translateY(26px)}
.reveal.in{opacity:1; animation:catch .8s cubic-bezier(.2,.8,.2,1) both}
@keyframes catch{
  0%{transform:translateY(26px)} 60%{transform:translateY(-8px)} 100%{transform:translateY(0)}
}

/* 低モーション */
@media (prefers-reduced-motion: reduce){
  .reveal,.sweep,.hand span.char{animation:none!important;transition:none!important}
  .reveal{opacity:1;transform:none}
}